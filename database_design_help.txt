d1 r1 r2 r3
session_01

database
database mangement system(dbms): sqlite , postgresql, .....
crud
relational database: sql langunge
nosql
database adminstrator(DBAs): access levels 

--------------------------------------------------------------
d1 r1 r2 r3
session_02

sql 
use postgresql
[optional]
(forced)

create database one;
disconnect from pgadmin or other user
drop database if exists one;

drop database if exists one with (force);

create database one with [options];
create database one with owner postgres encoding= 'utf8';

alter database one rename to two;

--------------------------------------------------------------
d1 r1 r2 r3
session_03

table
CREATE TABLE table_name (
    column1 data_type [constraints],
    column2 data_type [constraints],
    ...
);

create table users (email varchar(60) , password varchar(60),age smallint, address varchar(1000))

drop table users;

unique
not null
create table users (email varchar(60) unique not null , password varchar(60) not null ,age smallint, address varchar(
1000));

alter table name [actions];

alter table users drop column address;

alter table users add column address varchar(1000) unique;

--------------------------------------------------------------
d1 r1 r2 r3
session_04

select: read data

two=# \c shop;
You are now connected to database "shop" as user "postgres".
shop=# 

select * from employees;
select title, address from employees;

distinct
select distinct title from employees;
select distinct title, address from employees;

count 
select count(title) from employees;

count distinct
select count(distinct title) from employees;

select customerid , shippeddate - orderdate from orders;

where
select * from order_details where quantity<=10 ;
select * from orders where orderdate > '1997-07-07';

and 
select * from customers where country='Germany' and city='Berlin';

or
select * from customers where country='Germany' or city='Berlin';

not 
select * from customers where not country='Germany' and city='Berlin';
select * from customers where not country='Germany' and (city='Berlin' or city='paris');

between
select * from order_details  WHERE unitprice BETWEEN 10 and 43 ;

in
select * from customers  WHERE country in ('Germany' , 'Mexico', 'Spain') ;

ORDER by asc , desc
select DISTINCT country , city  from customers ORDER by country asc , city desc ;

min max sum avg
select min(unitprice) from order_details ;
select max(unitprice) from order_details ;
select avg(unitprice) from order_details ;
select sum(unitprice) from order_details ;

like 
%: multi char
_: on char
select * from customers where companyname like 'A_f%';

* + - / ....
as: name for name column
select unitprice * quantity as totla from order_details;

LIMIT
select unitprice * quantity as totla from order_details LIMIT 10;

--------------------------------------------------------------
d2
session_05

INSERT INTO customers (customerid, companyname, country) VALUES ('1', 'one', 'iran') RETURNING *;

delete from customers where conditon(forced)
delete from customers where country='iran';

update customers set country ='iri' , companyname='sss' WHERE conditon(forced)
update customers set country ='iri' , companyname='sss' WHERE customerid='3'

select into: create new table by other data tables
select * into new_customers from customers where country in ('Mexcio' , 'Germany')

select into: use other data table with out create new table:
select into new_customers select * from customers where country='Spain';

--------------------------------------------------------------

session_06

primary_key = unique not null 

id 

serial and bigserial = autoincrement integer

CREATE table students(id serial PRIMARY key,name text, phone integer);
insert into students (name , phone) VALUES ('sss' , 12345)

--------------------------------------------------------------

session_07

foriegn_key = refreces in postgresql

refreces <table name> <primary key> 

ON DELETE restrict: 
Ø§Ú¯Ø± Ø³Ø¹ÛŒ Ú©Ù†ÛŒ Ø±Ú©ÙˆØ±Ø¯ ÙˆØ§Ù„Ø¯ (Parent) Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒ Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ ÙØ±Ø²Ù†Ø¯ (Child) Ù‡Ù†ÙˆØ² Ø¨Ù‡ Ø¢Ù† Ø§Ø´Ø§Ø±Ù‡ Ø¯Ø§Ø±Ù†Ø¯ØŒ Ø¹Ù…Ù„ÛŒØ§Øª Ø­Ø°Ù Ù…Ù…Ù†ÙˆØ¹ (Restrict) Ù…ÛŒâ€ŒØ´ÙˆØ¯.

ON DELETE no action:
ØªØ§ ÙˆÙ‚ØªÛŒ Ú©Ù‡ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ ÙØ±Ø²Ù†Ø¯ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù†Ø¯ØŒ Ø§Ø¬Ø§Ø²Ù‡â€ŒÛŒ Ø­Ø°Ù Ø±Ú©ÙˆØ±Ø¯ ÙˆØ§Ù„Ø¯ Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒ.

ON DELETE cascade:
 Ø§Ú¯Ø± Ø±Ú©ÙˆØ±Ø¯ ÙˆØ§Ù„Ø¯ (Parent) Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØŒ ØªÙ…Ø§Ù… Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ ÙØ±Ø²Ù†Ø¯ (Child) Ú©Ù‡ Ø¨Ù‡ Ø¢Ù† Ø§Ø´Ø§Ø±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŒ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø­Ø°Ù Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

ON DELETE set null:
ÙØ±Ø²Ù†Ø¯Ù‡Ø§ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯ ÙˆÙ„ÛŒ Ú©Ù„ÛŒØ¯ Ø®Ø§Ø±Ø¬ÛŒ Ø¢Ù†â€ŒÙ‡Ø§ NULL Ù…ÛŒâ€ŒØ´ÙˆØ¯.

ON DELETE set default:
Ú©Ù„ÛŒØ¯ Ø®Ø§Ø±Ø¬ÛŒ ÙØ±Ø²Ù†Ø¯Ù‡Ø§ Ø¨Ù‡ Ù…Ù‚Ø¯Ø§Ø± DEFAULT ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯

ON UPDATE:  if delete parent table, dont delete data and update in child table

--------------------------------------------------------------

session_08

relation

one_to_many

one_to_one

many_to_many: internal table

boot 
author
PRIMARY KEY (book , author)

--------------------------------------------------------------

session_11

Normalizations

**1NF (First Normal Form)** Ø§ÙˆÙ„ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø§Ø² Ù†Ø±Ù…Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª Ú©Ù‡ Ù‡Ø¯ÙØ´ **Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ùˆ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ (ØºÛŒØ±Ø§ØªÙ…ÛŒ)** Ø¯Ø± Ø³ØªÙˆÙ†â€ŒÙ‡Ø§Ø³Øª.

### Ù‚ÙˆØ§Ù†ÛŒÙ† 1NF:

1. **Ù‡Ø± Ø³ØªÙˆÙ† Ø¨Ø§ÛŒØ¯ ÙÙ‚Ø· ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± (Atomic Value) Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.**
   ÛŒØ¹Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒÙ… ØªÙˆÛŒ ÛŒÚ© Ø³Ù„ÙˆÙ„ Ù„ÛŒØ³Øª ÛŒØ§ Ú†Ù†Ø¯ Ù…Ù‚Ø¯Ø§Ø± Ù‚Ø±Ø§Ø± Ø¨Ø¯ÛŒÙ….

2. **Ø³Ø·Ø±Ù‡Ø§ÛŒ Ø¬Ø¯ÙˆÙ„ Ù†Ø¨Ø§ÛŒØ¯ ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨Ø§Ø´Ù†Ø¯.**

3. **ØªØ±ØªÛŒØ¨ Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ Ùˆ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ Ù…Ù‡Ù… Ù†ÛŒØ³Øª.**

---

## ğŸ§± Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡:

### âŒ Ø¬Ø¯ÙˆÙ„ Ù†Ù‚Ø¶â€ŒÚ©Ù†Ù†Ø¯Ù‡ 1NF:

| StudentID | Name | Courses       |
| --------- | ---- | ------------- |
| 1         | Ali  | Math, Physics |
| 2         | Sara | Chemistry     |

Ø¯Ø± Ø§ÛŒÙ† Ù…Ø«Ø§Ù„ Ø³ØªÙˆÙ† `Courses` Ø­Ø§ÙˆÛŒ Ú†Ù†Ø¯ Ù…Ù‚Ø¯Ø§Ø± Ø§Ø³ØªØŒ Ú©Ù‡ Ù†Ù‚Ø¶ 1NF Ù…Ø­Ø³ÙˆØ¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

---

### âœ… Ø´Ú©Ù„ Ù†Ø±Ù…Ø§Ù„â€ŒØ´Ø¯Ù‡ (1NF):

| StudentID | Name | Course    |
| --------- | ---- | --------- |
| 1         | Ali  | Math      |
| 1         | Ali  | Physics   |
| 2         | Sara | Chemistry |

Ù‡Ø± Ù…Ù‚Ø¯Ø§Ø± Ø¬Ø¯Ø§ Ø´Ø¯Ù‡ Ùˆ Ø¬Ø¯ÙˆÙ„ Ø¯Ø± ÙØ±Ù… 1NF Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯.

---

## ğŸ¯ Ú†Ø±Ø§ 1NF Ù…Ù‡Ù… Ø§Ø³ØªØŸ

* Ø¬Ø³ØªØ¬Ùˆ Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ Ø±Ø§Ø­Øªâ€ŒØªØ± Ù…ÛŒâ€ŒØ´ÙˆØ¯.
* Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù…Ù†Ø¸Ù…â€ŒØªØ±ØŒ ØªÙ…ÛŒØ²ØªØ± Ùˆ Ù‚Ø§Ø¨Ù„ ØªØ­Ù„ÛŒÙ„â€ŒØªØ± Ù‡Ø³ØªÙ†Ø¯.
* Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ ÙØ±Ù…â€ŒÙ‡Ø§ÛŒ Ù†Ø±Ù…Ø§Ù„ Ø¨Ø¹Ø¯ÛŒ (2NFØŒ 3NFØŒ ...) Ø§Ø³Øª.

---------------------------------

**2NF (Second Normal Form)** ÛŒØ¹Ù†ÛŒ:

> Â«ÛŒÚ© Ø¬Ø¯ÙˆÙ„ Ø¯Ø± 2NF Ø§Ø³Øª **Ø§Ú¯Ø± Ø§ÙˆÙ„Ø§Ù‹ Ø¯Ø± 1NF Ø¨Ø§Ø´Ø¯** Ùˆ **Ø«Ø§Ù†ÛŒØ§Ù‹ Ù‡Ø± Ø³ØªÙˆÙ† ØºÛŒØ± Ú©Ù„ÛŒØ¯ÛŒ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¨Ù‡ Ú©Ù„ÛŒØ¯ Ø§ØµÙ„ÛŒ ÙˆØ§Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø´Ø¯** (Ù†Ù‡ ÙÙ‚Ø· Ø¨Ø®Ø´ÛŒ Ø§Ø² Ø¢Ù†).Â»

---

## ğŸ’¡ Ù…Ù†Ø¸ÙˆØ± Ø§Ø² Â«ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ù‡ Ú©Ù„ÛŒØ¯ Ø§ØµÙ„ÛŒÂ» Ú†ÛŒÙ‡ØŸ

ÙˆÙ‚ØªÛŒ Ú©Ù„ÛŒØ¯ Ø§ØµÙ„ÛŒ Ø¬Ø¯ÙˆÙ„ **ØªØ±Ú©ÛŒØ¨ÛŒ** (composite key) Ø¨Ø§Ø´Ù‡ØŒ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ú©Ù„ÛŒØ¯ÛŒ Ù†Ø¨Ø§ÛŒØ¯ ÙÙ‚Ø· Ø¨Ù‡ ÛŒÚ© Ø¨Ø®Ø´ Ø§Ø² Ú©Ù„ÛŒØ¯ ÙˆØ§Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø´Ù†Ø› Ø¨Ù„Ú©Ù‡ Ø¨Ø§ÛŒØ¯ **Ø¨Ù‡ Ú©Ù„ Ú©Ù„ÛŒØ¯ ÙˆØ§Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø´Ù†.**

---

### ğŸ”¸ Ù…Ø«Ø§Ù„ Ù†Ù‚Ø¶ 2NF (Ø¬Ø¯ÙˆÙ„ Ø¯Ø± 1NF Ù‡Ø³Øª ÙˆÙ„ÛŒ Ø¯Ø± 2NF Ù†ÛŒØ³Øª):

| StudentID | CourseID | StudentName | CourseName |
| --------- | -------- | ----------- | ---------- |
| 1         | 101      | Ali         | Math       |
| 1         | 102      | Ali         | Physics    |
| 2         | 101      | Sara        | Math       |

Ú©Ù„ÛŒØ¯ Ø§ØµÙ„ÛŒ: ØªØ±Ú©ÛŒØ¨ `(StudentID, CourseID)`

ğŸ”´ Ù…Ø´Ú©Ù„:

* `StudentName` ÙÙ‚Ø· Ø¨Ù‡ `StudentID` ÙˆØ§Ø¨Ø³ØªÙ‡ Ø§Ø³Øª.
* `CourseName` ÙÙ‚Ø· Ø¨Ù‡ `CourseID` ÙˆØ§Ø¨Ø³ØªÙ‡ Ø§Ø³Øª.
* ÛŒØ¹Ù†ÛŒ Ù‡Ø± Ø³ØªÙˆÙ† Ø¨Ù‡ Ø¨Ø®Ø´ÛŒ Ø§Ø² Ú©Ù„ÛŒØ¯ ØªØ±Ú©ÛŒØ¨ÛŒ ÙˆØ§Ø¨Ø³ØªÙ‡ Ø§Ø³Øª â†’ Ø§ÛŒÙ† Ù†Ù‚Ø¶ 2NF Ø§Ø³Øª.

---

## âœ… Ù†Ø±Ù…Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¨Ù‡ 2NF:

### ğŸ”¹ Ø¬Ø¯ÙˆÙ„: Student

| StudentID | StudentName |
| --------- | ----------- |
| 1         | Ali         |
| 2         | Sara        |

### ğŸ”¹ Ø¬Ø¯ÙˆÙ„: Course

| CourseID | CourseName |
| -------- | ---------- |
| 101      | Math       |
| 102      | Physics    |

### ğŸ”¹ Ø¬Ø¯ÙˆÙ„: Enrollment (Ø±Ø§Ø¨Ø· Ø¨ÛŒÙ† Ø¯Ø§Ù†Ø´Ø¬Ùˆ Ùˆ Ø¯Ø±Ø³)

| StudentID | CourseID |
| --------- | -------- |
| 1         | 101      |
| 1         | 102      |
| 2         | 101      |

âœ… Ø­Ø§Ù„Ø§ Ù‡Ø± Ø³ØªÙˆÙ† ÙÙ‚Ø· Ø¨Ù‡ Ú©Ù„ÛŒØ¯ Ø§ØµÙ„ÛŒ Ø®ÙˆØ¯Ø´ Ú©Ø§Ù…Ù„Ø§Ù‹ ÙˆØ§Ø¨Ø³ØªÙ‡ Ø§Ø³Øª â†’ Ø¬Ø¯ÙˆÙ„â€ŒÙ‡Ø§ Ø¯Ø± 2NF Ù‡Ø³ØªÙ†Ø¯.

---

## ğŸ¯ Ø®Ù„Ø§ØµÙ‡ ØªÙØ§ÙˆØª 1NF Ùˆ 2NF:

| ÙØ±Ù… Ù†Ø±Ù…Ø§Ù„ | Ù‚Ø§Ù†ÙˆÙ† Ø§ØµÙ„ÛŒ                | Ù…Ø´Ú©Ù„ Ø±Ø§ÛŒØ¬                                               |
| --------- | ------------------------- | ------------------------------------------------------- |
| 1NF       | Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ Ø¨Ø§ÛŒØ¯ Ø§ØªÙ…ÛŒ Ø¨Ø§Ø´Ù†Ø¯   | ÙˆØ¬ÙˆØ¯ Ù„ÛŒØ³Øª ÛŒØ§ Ú†Ù†Ø¯ Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø± ÛŒÚ© Ø³Ù„ÙˆÙ„                       |
| 2NF       | ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ù‡ Ú©Ù„ÛŒØ¯ Ø§ØµÙ„ÛŒ | ÙˆØ¬ÙˆØ¯ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ ÙÙ‚Ø· Ø¨Ù‡ Ø¨Ø®Ø´ÛŒ Ø§Ø² Ú©Ù„ÛŒØ¯ ØªØ±Ú©ÛŒØ¨ÛŒ ÙˆØ§Ø¨Ø³ØªÙ‡â€ŒØ§Ù†Ø¯ |

